{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 3</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
        }
        h1 {
            text-align: center;
            margin-bottom: 20px;
        }
        .back-button {
            display: inline-block;
            margin-bottom: 20px;
            padding: 10px 15px;
            background-color: #007bff;
            color: #fff;
            text-decoration: none;
            border-radius: 5px;
            font-size: 14px;
        }
        .back-button:hover {
            background-color: #0056b3;
        }
        .assignment {
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .assignment h2 {
            margin-top: 0;
        }
        ul {
            list-style-type: none;
            padding-left: 20px;
        }
        li {
            margin: 5px 0;
        }
        .folder::before {
            content: "üìÅ";
            margin-right: 10px;
            cursor: pointer;
        }
        .file::before {
            content: "üìÑ";
            margin-right: 10px;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <h1>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 3</h1>

    <a href="{% url 'home' %}" class="back-button">–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—å –Ω–∞ –≥–æ–ª–æ–≤–Ω—É</a>

    <div class="assignment">
        <h2>–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è</h2>
        <p>
            –°—Ç–∞–ª–æ—Å—è —Ä–∞–¥—ñ–æ–∞–∫—Ç–∏–≤–Ω–µ –∑–∞—Ä–∞–∂–µ–Ω–Ω—è –º—ñ—Å—Ü–µ–≤–æ—Å—Ç—ñ. –°–∫–ª–∞–¥–µ–Ω–æ –∫–∞—Ä—Ç—É –∑–∞—Ä–∞–∂–µ–Ω–æ—Å—Ç—ñ. –í–æ–Ω–∞ —î –ø—Ä—è–º–æ–∫—É—Ç–Ω–æ—é —Ç–∞–±–ª–∏—Ü–µ—é <b>N√óM</b>, —É –∫–ª—ñ—Ç–∏–Ω–∞—Ö —è–∫–æ—ó –∑–∞–ø–∏—Å–∞–Ω–∞ –∑–∞—Ä–∞–∂–µ–Ω—ñ—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—ó –¥—ñ–ª—è–Ω–∫–∏.
        </p>
        <p>
            –ü–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º—É, —è–∫–∞ –∑–Ω–∞–π–¥–µ —à–ª—è—Ö –∑ –≤–µ—Ä—Ö–Ω—å–æ—ó –ª—ñ–≤–æ—ó –∫–ª—ñ—Ç–∏–Ω–∏ —Ç–∞–±–ª–∏—Ü—ñ –≤ –ø—Ä–∞–≤—É –Ω–∏–∂–Ω—é –∫–ª—ñ—Ç–∏–Ω—É –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ—é —Å—É–º–∞—Ä–Ω–æ—é –¥–æ–∑–æ—é —Ä–∞–¥—ñ–∞—Ü—ñ—ó.
        </p>
        <h3>–í—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ:</h3>
        <p>
            –í—Ö—ñ–¥–Ω–∏–π —Ñ–∞–π–ª <b>INPUT.TXT</b> –º—ñ—Å—Ç–∏—Ç—å —É –ø–µ—Ä—à–æ–º—É —Ä—è–¥–∫—É —á–∏—Å–ª–∞ <b>N</b> —ñ <b>M</b>, –∞ –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö <b>N</b> —Ä—è–¥–∫–∞—Ö ‚Äì –ø–æ <b>M</b> —á–∏—Å–µ–ª ‚Äì –∫–∞—Ä—Ç–∞ –∑–∞—Ä–∞–∂–µ–Ω–æ—Å—Ç—ñ –º—ñ—Å—Ü–µ–≤–æ—Å—Ç—ñ. –ß–∏—Å–ª–∞ –≤ —Ä—è–¥–∫–∞—Ö –ø–æ–¥—ñ–ª—è—é—Ç—å—Å—è –æ–¥–Ω–∏–º –ø—Ä–æ–ø—É—Å–∫–æ–º. <br>
            <i>1 ‚â§ N ‚â§ 30, 1 ‚â§ M ‚â§ 30, –∑–∞—Ä–∞–∂–µ–Ω—ñ—Å—Ç—å –¥—ñ–ª—è–Ω–∫–∏ ‚Äì —Ü—ñ–ª–µ —á–∏—Å–ª–æ –≤—ñ–¥ 0 –¥–æ 100.</i>
        </p>
        <h3>–í–∏—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ:</h3>
        <p>
            –í–∏—Ö—ñ–¥–Ω–∏–π —Ñ–∞–π–ª <b>OUTPUT.TXT</b> –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ –æ–¥–Ω–µ —á–∏—Å–ª–æ ‚Äì —Å—É–º–∞—Ä–Ω—É —á–∞—Å—Ç–∫—É —Ä–∞–¥—ñ–∞—Ü—ñ—ó.
        </p>
        <h3>–ü—Ä–∏–∫–ª–∞–¥:</h3>
        <table border="1" style="border-collapse: collapse; width: 100%;">
            <thead>
                <tr>
                    <th>‚Ññ</th>
                    <th>INPUT.TXT</th>
                    <th>OUTPUT.TXT</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>
                        <pre>
3 3
52 100 0
100 100 1
100 0 3
                        </pre>
                    </td>
                    <td>
                        <pre>
9
                        </pre>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <ul>
        {% for folder, values in file_structure.items %}
            <li>
                <div class="folder" onclick="toggleVisibility('folder-{{ forloop.counter }}')">
                    {{ folder|default:"–ö–æ—Ä–Ω–µ–≤–∞—è –ø–∞–ø–∫–∞" }}
                </div>
                <ul id="folder-{{ forloop.counter }}" class="hidden">
                    {% for dir in values.dirs %}
                        <li>
                            <div class="folder" onclick="toggleVisibility('folder-{{ forloop.counter }}-{{ forloop.parentloop.counter }}')">
                                {{ dir }}
                            </div>
                            <ul id="folder-{{ forloop.counter }}-{{ forloop.parentloop.counter }}" class="hidden">
                                <!-- –í–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–∞–ø–∫–∏ –∏ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã -->
                            </ul>
                        </li>
                    {% endfor %}
                    {% for file in values.files %}
                        <li class="file">
                            <a href="{% static 'labs/Lab3/'|add:folder|add:'/'|add:file %}">
                                {{ file }}
                            </a>
                        </li>
                    {% endfor %}
                </ul>
            </li>
        {% endfor %}
    </ul>

    <script>
        function toggleVisibility(id) {
            const element = document.getElementById(id);
            if (element) {
                element.classList.toggle('hidden');
            }
        }
    </script>

    {% if error %}
        <p style="color: red">{{ error }}</p>
    {% endif %}
</body>
</html>
