{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 2</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
        }
        h1 {
            text-align: center;
            margin-bottom: 20px;
        }
        .back-button {
            display: inline-block;
            margin-bottom: 20px;
            padding: 10px 15px;
            background-color: #007bff;
            color: #fff;
            text-decoration: none;
            border-radius: 5px;
            font-size: 14px;
        }
        .back-button:hover {
            background-color: #0056b3;
        }
        .assignment {
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .assignment h2 {
            margin-top: 0;
        }
        ul {
            list-style-type: none;
            padding-left: 20px;
        }
        li {
            margin: 5px 0;
        }
        .folder::before {
            content: "üìÅ";
            margin-right: 10px;
            cursor: pointer;
        }
        .file::before {
            content: "üìÑ";
            margin-right: 10px;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <h1>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 2</h1>

    <a href="{% url 'home' %}" class="back-button">–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—å –Ω–∞ –≥–æ–ª–æ–≤–Ω—É</a>

    <div class="assignment">
        <h2>–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è</h2>
        <p>
            –ö–æ–º–ø–∞–Ω–∏—è <b>BrokenTiles</b> –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –∑–∞–Ω—è—Ç—å—Å—è –≤—ã–∫–ª–∞–¥–∫–æ–π —É–∑–æ—Ä–∞ –∏–∑ —á–µ—Ä–Ω—ã—Ö –∏ –±–µ–ª—ã—Ö –ø–ª–∏—Ç–æ–∫ –≤ –¥–≤–æ—Ä–∞—Ö —É –∑–∞–º–æ–∂–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.
            –ö–∞–∂–¥—ã–π –∫–ª–∏–µ–Ω—Ç —Ö–æ—á–µ—Ç, —á—Ç–æ–±—ã —É–∑–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –µ–≥–æ –¥–≤–æ—Ä–µ, –±—ã–ª —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∏ –æ—Ç–ª–∏—á–∞–ª—Å—è –æ—Ç –¥—Ä—É–≥–∏—Ö, –ø—Ä–∏ —ç—Ç–æ–º —É–∑–æ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–∏–º–ø–∞—Ç–∏—á–Ω—ã–º.
        </p>
        <p>
            –£–∑–æ—Ä —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å–∏–º–ø–∞—Ç–∏—á–Ω—ã–º, –µ—Å–ª–∏ –≤ –Ω–µ–º –Ω–∏–≥–¥–µ –Ω–µ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –∫–≤–∞–¥—Ä–∞—Ç 2√ó2, –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫—Ä—ã—Ç—ã–π –ø–ª–∏—Ç–∫–∞–º–∏ –æ–¥–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ (—á–µ—Ä–Ω—ã–º–∏ –∏–ª–∏ –±–µ–ª—ã–º–∏).
        </p>
        <p>
            –ó–∞–¥–∞—á–∞ ‚Äî –≤—ã—á–∏—Å–ª–∏—Ç—å, —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–∏–º–ø–∞—Ç–∏—á–Ω—ã—Ö —É–∑–æ—Ä–æ–≤ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –¥–ª—è –¥–≤–æ—Ä–∞ —Ä–∞–∑–º–µ—Ä–æ–º <b>M√óN</b> –º–µ—Ç—Ä–æ–≤, –≥–¥–µ M –∏ N ‚Äî —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–µ —Ä–∞–∑–º–µ—Ä—ã –¥–≤–æ—Ä–∞. –í–∞–∂–Ω–æ, —á—Ç–æ —É–∑–æ—Ä—ã, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –ø—É—Ç–µ–º —Å–¥–≤–∏–≥–∞, –ø–æ–≤–æ—Ä–æ—Ç–∞ –∏–ª–∏ –æ—Ç—Ä–∞–∂–µ–Ω–∏—è, —Å—á–∏—Ç–∞—é—Ç—Å—è —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏.
        </p>
        <h3>–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:</h3>
        <p>
            –í—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª <b>INPUT.TXT</b> —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–∞ —Ü–µ–ª—ã—Ö —á–∏—Å–ª–∞ <b>M</b> –∏ <b>N</b> (1 ‚â§ M‚àôN ‚â§ 30), –∑–∞–¥–∞—é—â–∏—Ö —Ä–∞–∑–º–µ—Ä—ã –¥–≤–æ—Ä–∞.
        </p>
        <h3>–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:</h3>
        <p>
            –í –≤—ã—Ö–æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ <b>OUTPUT.TXT</b> –≤—ã–≤–µ–¥–∏—Ç–µ –æ–¥–Ω–æ —á–∏—Å–ª–æ ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–∏–º–ø–∞—Ç–∏—á–Ω—ã—Ö —É–∑–æ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤—ã–ª–æ–∂–∏—Ç—å –Ω–∞ –¥–≤–æ—Ä–µ —Ä–∞–∑–º–µ—Ä–æ–º M√óN.
        </p>
        <h3>–ü—Ä–∏–º–µ—Ä:</h3>
        <table border="1" style="border-collapse: collapse; width: 100%;">
            <thead>
                <tr>
                    <th>‚Ññ</th>
                    <th>INPUT.TXT</th>
                    <th>OUTPUT.TXT</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>
                        <pre>
2 2
                        </pre>
                    </td>
                    <td>
                        <pre>
14
                        </pre>
                    </td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>
                        <pre>
3 3
                        </pre>
                    </td>
                    <td>
                        <pre>
322
                        </pre>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <ul>
        {% for folder, values in file_structure.items %}
            <li>
                <div class="folder" onclick="toggleVisibility('folder-{{ forloop.counter }}')">
                    {{ folder|default:"–ö–æ—Ä–Ω–µ–≤–∞—è –ø–∞–ø–∫–∞" }}
                </div>
                <ul id="folder-{{ forloop.counter }}" class="hidden">
                    {% for dir in values.dirs %}
                        <li>
                            <div class="folder" onclick="toggleVisibility('folder-{{ forloop.counter }}-{{ forloop.parentloop.counter }}')">
                                {{ dir }}
                            </div>
                            <ul id="folder-{{ forloop.counter }}-{{ forloop.parentloop.counter }}" class="hidden">
                                <!-- –í–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–∞–ø–∫–∏ –∏ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã -->
                            </ul>
                        </li>
                    {% endfor %}
                    {% for file in values.files %}
                        <li class="file">
                            <a href="{% static 'labs/Lab2/'|add:folder|add:'/'|add:file %}">
                                {{ file }}
                            </a>
                        </li>
                    {% endfor %}
                </ul>
            </li>
        {% endfor %}
    </ul>

    <script>
        function toggleVisibility(id) {
            const element = document.getElementById(id);
            if (element) {
                element.classList.toggle('hidden');
            }
        }
    </script>

    {% if error %}
        <p style="color: red">{{ error }}</p>
    {% endif %}
</body>
</html>
